/* DEADCETERA BAND APP â€” Dark Theme Shell */
:root{--bg-dark:#0f172a;--bg-card:#1e293b;--bg-surface:#334155;--accent:#667eea;--accent-light:#818cf8;--accent-glow:rgba(102,126,234,0.15);--green:#10b981;--red:#ef4444;--yellow:#f59e0b;--blue:#3b82f6;--text:#f1f5f9;--text-muted:#94a3b8;--text-dim:#64748b;--border:rgba(255,255,255,0.08);--radius:12px;}
body{font-family:'Inter',-apple-system,sans-serif;background:var(--bg-dark);color:var(--text);min-height:100vh;overflow-x:hidden;}
a{color:var(--accent-light);}
.topbar{position:sticky;top:36px;z-index:1000;background:linear-gradient(135deg,#1e293b,#0f172a);border-bottom:1px solid var(--border);padding:0 16px;height:56px;display:flex;align-items:center;justify-content:space-between;backdrop-filter:blur(12px);}
.topbar-left{display:flex;align-items:center;gap:12px;}
.hamburger{background:none;border:none;color:var(--text);cursor:pointer;width:36px;height:36px;display:flex;align-items:center;justify-content:center;border-radius:8px;transition:background 0.15s;}
.hamburger:hover{background:rgba(255,255,255,0.08);}
.topbar-brand{font-size:1.15em;font-weight:800;letter-spacing:-0.5px;background:linear-gradient(135deg,#667eea,#10b981);-webkit-background-clip:text;-webkit-text-fill-color:transparent;}
.topbar-right{display:flex;align-items:center;gap:6px;}
.topbar-btn{background:rgba(255,255,255,0.06);border:1px solid var(--border);color:var(--text-muted);padding:6px 10px;border-radius:8px;font-size:0.78em;cursor:pointer;transition:all 0.15s;white-space:nowrap;font-weight:500;font-family:inherit;}
.topbar-btn:hover{background:rgba(255,255,255,0.12);color:white;}
.topbar-btn.connected{background:rgba(16,185,129,0.25);color:#ffffff;border-color:rgba(16,185,129,0.4);font-weight:600;}
.menu-overlay{position:fixed;inset:0;background:rgba(0,0,0,0.5);z-index:1100;opacity:0;pointer-events:none;transition:opacity 0.25s;}
.menu-overlay.open{opacity:1;pointer-events:auto;}
.slide-menu{position:fixed;top:0;left:-300px;bottom:0;width:280px;z-index:1200;background:var(--bg-card);border-right:1px solid var(--border);transition:left 0.3s cubic-bezier(0.4,0,0.2,1);overflow-y:auto;padding:16px 0;}
.slide-menu.open{left:0;}
.menu-brand{padding:12px 20px 16px;font-size:1.2em;font-weight:800;background:linear-gradient(135deg,#667eea,#10b981);-webkit-background-clip:text;-webkit-text-fill-color:transparent;}
.menu-section{padding:4px 12px;}
.menu-section-title{font-size:0.6em;font-weight:700;text-transform:uppercase;letter-spacing:1.2px;color:var(--text-dim);margin:12px 8px 4px;}
.menu-item{display:flex;align-items:center;gap:10px;padding:10px 12px;border-radius:8px;cursor:pointer;transition:all 0.15s;color:var(--text-muted);font-size:0.88em;font-weight:500;border:none;background:none;width:100%;text-align:left;font-family:inherit;}
.menu-item:hover{background:rgba(255,255,255,0.06);color:white;}
.menu-item.active{background:var(--accent-glow);color:var(--accent-light);}
.menu-icon{font-size:1.15em;width:24px;text-align:center;}
.menu-badge{margin-left:auto;background:var(--red);color:white;font-size:0.6em;font-weight:700;padding:2px 6px;border-radius:10px;}
.menu-divider{height:1px;background:var(--border);margin:6px 16px;}
.main-content{max-width:960px;margin:0 auto;padding:16px;min-height:calc(100vh - 92px);}
.page-header{margin-bottom:16px;}
.page-header h1{font-size:1.4em;font-weight:800;letter-spacing:-0.5px;display:flex;align-items:center;gap:10px;}
.page-header p{color:var(--text-muted);font-size:0.88em;margin-top:2px;}
.app-card{background:var(--bg-card);border:1px solid var(--border);border-radius:var(--radius);padding:16px;margin-bottom:12px;}
.app-card h3{font-size:0.95em;font-weight:700;margin-bottom:10px;display:flex;align-items:center;gap:8px;}
.card-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(180px,1fr));gap:10px;}
.stat-card{background:rgba(255,255,255,0.03);border:1px solid var(--border);border-radius:10px;padding:14px;text-align:center;}
.stat-value{font-size:1.8em;font-weight:800;line-height:1;}
.stat-label{font-size:0.68em;color:var(--text-dim);margin-top:4px;text-transform:uppercase;letter-spacing:0.5px;}
.btn{padding:8px 16px;border:none;border-radius:8px;cursor:pointer;font-weight:600;font-size:0.85em;transition:all 0.15s;display:inline-flex;align-items:center;gap:6px;font-family:inherit;}
.btn-primary{background:var(--accent);color:white;}.btn-primary:hover{background:var(--accent-light);}
.btn-success{background:var(--green);color:white;}
.btn-danger{background:var(--red);color:white;}
.btn-ghost{background:rgba(255,255,255,0.06);color:var(--text-muted);border:1px solid var(--border);}
.btn-ghost:hover{background:rgba(255,255,255,0.1);color:white;}
.btn-sm{padding:5px 10px;font-size:0.78em;}
.app-input,.app-select,.app-textarea{width:100%;padding:10px 12px;background:rgba(255,255,255,0.06);border:1px solid var(--border);border-radius:8px;color:var(--text);font-size:0.9em;font-family:inherit;}
.app-input:focus,.app-select:focus,.app-textarea:focus{outline:none;border-color:var(--accent);}
.app-input::placeholder{color:var(--text-dim);}
.app-textarea{resize:vertical;min-height:80px;}
.app-select option{background:var(--bg-card);color:var(--text);}
.form-label{display:block;font-size:0.78em;font-weight:600;color:var(--text-muted);margin-bottom:4px;}
.form-row{margin-bottom:12px;}
.form-grid{display:grid;grid-template-columns:1fr 1fr;gap:12px;}
.tab-bar{display:flex;gap:4px;overflow-x:auto;padding:4px;background:rgba(255,255,255,0.03);border-radius:10px;margin-bottom:16px;scrollbar-width:none;}
.tab-bar::-webkit-scrollbar{display:none;}
.tab-btn{padding:8px 14px;border:none;background:none;color:var(--text-dim);font-size:0.78em;font-weight:600;cursor:pointer;border-radius:8px;white-space:nowrap;transition:all 0.15s;font-family:inherit;}
.tab-btn:hover{color:var(--text-muted);background:rgba(255,255,255,0.04);}
.tab-btn.active{background:var(--accent);color:white;}
.list-item{display:flex;align-items:center;gap:10px;padding:10px 12px;background:rgba(255,255,255,0.02);border:1px solid var(--border);border-radius:8px;margin-bottom:4px;transition:all 0.15s;}
.list-item:hover{background:rgba(255,255,255,0.06);}
.hidden{display:none!important;}
@keyframes fadeIn{from{opacity:0;transform:translateY(8px)}to{opacity:1;transform:translateY(0)}}
.fade-in{animation:fadeIn 0.2s ease-out;}
@media(max-width:500px){.form-grid{grid-template-columns:1fr;}.topbar{padding:0 10px;}}

/* --- DARK OVERRIDES FOR EXISTING STYLES --- */
.container{max-width:960px;margin:0 auto;}
.step-card{background:var(--bg-card)!important;border:1px solid var(--border)!important;border-radius:var(--radius)!important;padding:20px!important;margin-bottom:16px!important;}
.step-card h2{color:var(--text)!important;}
.step-card p,.subtitle{color:var(--text-muted)!important;}
.step-number{background:var(--accent)!important;color:white!important;}
.search-input{background:rgba(255,255,255,0.06)!important;color:var(--text)!important;border:1px solid var(--border)!important;}
.search-input::placeholder{color:var(--text-dim)!important;}
.search-input:focus{border-color:var(--accent)!important;outline:none!important;}
.filter-btn{color:var(--text-muted)!important;border-color:var(--border)!important;background:rgba(255,255,255,0.04)!important;}
.filter-btn.active,.filter-btn:hover{background:var(--accent)!important;color:white!important;border-color:var(--accent)!important;}
.song-item{background:rgba(255,255,255,0.03)!important;border:1px solid var(--border)!important;color:var(--text)!important;}
.song-item:hover{background:rgba(255,255,255,0.06)!important;}
.secondary-btn{background:rgba(255,255,255,0.06)!important;color:var(--text-muted)!important;border:1px solid var(--border)!important;}
.secondary-btn:hover{background:rgba(255,255,255,0.1)!important;color:white!important;}
.primary-btn{background:var(--accent)!important;color:white!important;}
.resource-section{background:rgba(255,255,255,0.02)!important;border:1px solid var(--border)!important;border-radius:var(--radius)!important;padding:16px!important;margin-bottom:12px!important;}
.section-header h3{color:var(--text)!important;}
.section-header p{color:var(--text-muted)!important;}
.download-card{background:rgba(255,255,255,0.03)!important;border:1px solid var(--border)!important;border-radius:var(--radius)!important;padding:16px!important;}
.modal{background:rgba(0,0,0,0.7)!important;}
.modal-content{background:var(--bg-card)!important;color:var(--text)!important;border:1px solid var(--border)!important;}
.close-btn{color:var(--text-muted)!important;}
.song-metadata{background:rgba(255,255,255,0.03)!important;border:1px solid var(--border)!important;}
.song-metadata span{color:var(--text-muted)!important;}
.song-metadata select,.song-metadata input{background:rgba(255,255,255,0.06)!important;color:var(--text)!important;border:1px solid var(--border)!important;}
.song-metadata label span{color:var(--text-muted)!important;}
#addTabForm{background:rgba(255,255,255,0.03)!important;border:1px solid var(--border)!important;}
#addTabForm h4{color:var(--text)!important;}
#addTabForm label{color:var(--text-muted)!important;}
#addTabForm input{background:rgba(255,255,255,0.06)!important;color:var(--text)!important;border:1px solid var(--border)!important;}
#addTabForm p{color:var(--text-dim)!important;}
.chart-btn{background:rgba(255,255,255,0.04)!important;color:var(--text-muted)!important;border:1px solid var(--border)!important;}
.chart-btn-primary{background:var(--accent)!important;color:white!important;}
#practiceTrackAddForm{background:rgba(255,255,255,0.03)!important;border:1px solid var(--border)!important;}
#practiceTrackAddForm h4{color:var(--text)!important;}
#practiceTrackAddForm label{color:var(--text-muted)!important;}
#practiceTrackAddForm input,#practiceTrackAddForm select{background:rgba(255,255,255,0.06)!important;color:var(--text)!important;border:1px solid var(--border)!important;}
.workflow-guide{background:rgba(255,255,255,0.02)!important;border:1px solid var(--border)!important;}
.workflow-guide h3{color:var(--text)!important;}
.part-card{background:rgba(255,255,255,0.03)!important;border:1px solid var(--border)!important;color:var(--text)!important;border-radius:10px!important;}
.part-card h3{color:var(--text)!important;}
.part-card p{color:var(--text-muted)!important;}
.empty-state{color:var(--text-dim)!important;}
footer{color:var(--text-dim)!important;border-top:1px solid var(--border)!important;}
footer p{color:var(--text-dim)!important;}
.harmony-header,.note-header{color:var(--text)!important;}
.song-item *{color:var(--text)!important;}
.song-item .song-title{color:var(--text)!important;font-weight:600;}
.song-item .song-band{color:var(--text-muted)!important;}
.song-dropdown .song-item{background:rgba(255,255,255,0.04)!important;border:1px solid var(--border)!important;color:var(--text)!important;}
.song-dropdown .song-item:hover{background:rgba(255,255,255,0.08)!important;}
.resource-section .notes-icon,.resource-section svg,.resource-section .edit-icon,
.resource-section [style*="color: #333"],.resource-section [style*="color: black"],
.resource-section [style*="color:#333"],.resource-section [style*="color:#000"],
#spotifyVersionsContainer [style*="color: #"],
#practiceTracksContainer [style*="color: #"],
.version-header [style*="color:"],
.section-header [style*="color:"]
{color:var(--text-muted)!important;fill:var(--text-muted)!important;}
.resource-section button[style*="color: #333"]{color:var(--text-muted)!important;}

/* FIX #2: Connected button text always white */
.topbar-btn.connected{color:white!important;}

/* FIX #3: Song dropdown results visible on dark bg */
.song-item, .song-dropdown .song-item, #songDropdown > div {
    color:var(--text)!important;background:rgba(255,255,255,0.03)!important;
    border:1px solid var(--border)!important;
}
.song-item:hover, #songDropdown > div:hover {
    background:rgba(255,255,255,0.08)!important;
}
.song-item .song-title, .song-item strong {color:var(--text)!important;}
.song-item .song-band, .song-item small, .song-item .song-meta {color:var(--text-muted)!important;}

/* FIX #6: Song list alignment */
.song-item {display:flex!important;align-items:center!important;gap:8px!important;padding:10px 12px!important;}
.song-item .status-badge, .song-item .harmony-badge {flex-shrink:0;}

/* FIX #16, #19: Notes/icons black on dark bg */
.resource-section svg, .resource-section .icon, 
.section-header svg, .note-icon, .edit-icon,
button[style*="color: #333"], button[style*="color: black"],
.resource-section button {color:var(--text-muted)!important;}
input[style*="color: #333"], input[style*="color: black"],
textarea[style*="color: #333"], textarea[style*="color: black"],
select[style*="color: #333"], select[style*="color: black"] {
    color:var(--text)!important;
}
/* Any remaining dark text on dark bg */
p[style*="color: #4a5568"], p[style*="color: #4b5563"], 
div[style*="color: #333"], span[style*="color: #333"],
div[style*="color: #2d3748"], h4[style*="color: #2d3748"] {
    color:var(--text)!important;
}
p[style*="color: #6b7280"], span[style*="color: #6b7280"],
label[style*="color: #6b7280"], div[style*="color: #6b7280"] {
    color:var(--text-muted)!important;
}

/* General dark theme catch-all for inline styles */
[style*="background: white"], [style*="background:#fff"], [style*="background: #fff"] {
    background:rgba(255,255,255,0.04)!important;
}
[style*="background: #f9fafb"], [style*="background: #f7fafc"], [style*="background:#f9fafb"] {
    background:rgba(255,255,255,0.03)!important;
}
[style*="border-left: 4px solid"] {
    border-left-color:var(--accent)!important;
}

/* FIX #19: Practice tracks instrument grid */
.practice-tracks-grid {
    display:grid!important;grid-template-columns:repeat(auto-fill,minmax(260px,1fr))!important;gap:10px!important;
}
.practice-track-card {
    background:rgba(255,255,255,0.03)!important;border:1px solid var(--border)!important;
    border-radius:10px!important;color:var(--text)!important;
}
.practice-track-card p, .practice-track-card span, .practice-track-card small, .practice-track-card div {
    color:var(--text-muted)!important;
}
.practice-track-card strong, .practice-track-card h4 { color:var(--text)!important; }
.practice-track-card button { color:white!important; }

/* Fix #6 revisited: song list alignment */
.song-dropdown > div, .song-item {
    display:grid!important;
    grid-template-columns:auto 1fr auto auto!important;
    align-items:center!important;
    gap:8px!important;
    padding:10px 12px!important;
}

/* More dark theme overrides for inline styles */
[style*="color: #2d3748"],[style*="color: #333"],[style*="color:#2d3748"],[style*="color:#333"] {color:var(--text)!important;}
[style*="color: #4a5568"],[style*="color:#4a5568"] {color:var(--text-muted)!important;}
[style*="color: #718096"],[style*="color:#718096"] {color:var(--text-dim)!important;}
.version-title, .version-badge {color:var(--text)!important;}
.vote-chip {color:var(--text)!important;background:rgba(255,255,255,0.06)!important;border:1px solid var(--border)!important;}
.vote-chip.yes {background:rgba(16,185,129,0.15)!important;color:var(--green)!important;border-color:rgba(16,185,129,0.3)!important;}
.spotify-play-btn, .spotify-play-btn * {color:white!important;}
.spotify-version-card {background:rgba(255,255,255,0.03)!important;border:1px solid var(--border)!important;border-radius:10px!important;}
.spotify-version-card.default {border-color:var(--accent)!important;background:rgba(102,126,234,0.08)!important;}
.song-item.selected {background:rgba(102,126,234,0.12)!important;border-color:var(--accent)!important;}
.reset-btn {background:rgba(255,255,255,0.06)!important;color:var(--text-muted)!important;border:1px solid var(--border)!important;}

/* Header and subtitle overrides */
header {background:transparent!important;border-bottom:none!important;}
header h1 {color:var(--text)!important;}
header p, header .subtitle {color:var(--text-muted)!important;}
.logo {filter:brightness(1.2);}

/* FIX #2: Connected button text always white */
.topbar-btn.connected{color:white!important;}

/* FIX #3: Song search results visibility on dark bg */
.song-item,.song-dropdown .song-item,#songDropdown>div{color:#e2e8f0!important;background:rgba(255,255,255,0.04)!important;border:1px solid rgba(255,255,255,0.08)!important;border-radius:8px!important;margin-bottom:4px!important;}
.song-item:hover,#songDropdown>div:hover{background:rgba(255,255,255,0.08)!important;}

/* FIX #6: Song list proper alignment */
.song-item{display:flex!important;align-items:center!important;gap:10px!important;padding:10px 14px!important;}

/* FIX #16 & #19: Icons invisible on dark bg */
.resource-section [style*="color: #"]{color:var(--text-muted)!important;}
.version-header button,.resource-section button[style]{color:var(--text-muted)!important;}
.note-header [style*="color"]{color:var(--text-muted)!important;}
#practiceTracksContainer [style*="color: #4"]{color:var(--text-muted)!important;}
#spotifyVersionsContainer [style*="color: #4"]{color:var(--text-muted)!important;}
